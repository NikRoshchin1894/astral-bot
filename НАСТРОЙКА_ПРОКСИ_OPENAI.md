# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏ –¥–ª—è OpenAI API

## –ü—Ä–æ–±–ª–µ–º–∞

–ï—Å–ª–∏ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É:
```
openai.PermissionDeniedError: Error code: 403 - {'error': {'code': 'unsupported_country_region_territory', 'message': 'Country, region, or territory not supported'}}
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ OpenAI –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∏–∑ –≤–∞—à–µ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞. –î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä.

## –†–µ—à–µ–Ω–∏–µ: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è OPENAI_PROXY_URL

–î–æ–±–∞–≤—å—Ç–µ –≤ –≤–∞—à `.env` —Ñ–∞–π–ª:

```env
OPENAI_PROXY_URL=http://proxy.example.com:8080
```

–ò–ª–∏ –¥–ª—è SOCKS5 –ø—Ä–æ–∫—Å–∏:
```env
OPENAI_PROXY_URL=socks5://proxy.example.com:1080
```

–ò–ª–∏ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π:
```env
OPENAI_PROXY_URL=http://username:password@proxy.example.com:8080
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

OpenAI SDK —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```env
HTTP_PROXY=http://proxy.example.com:8080
HTTPS_PROXY=http://proxy.example.com:8080
```

## –¢–∏–ø—ã –ø—Ä–æ–∫—Å–∏

### HTTP/HTTPS –ø—Ä–æ–∫—Å–∏

–§–æ—Ä–º–∞—Ç: `http://proxy.example.com:8080` –∏–ª–∏ `https://proxy.example.com:8080`

–ü—Ä–∏–º–µ—Ä:
```env
OPENAI_PROXY_URL=http://proxy.example.com:8080
```

### SOCKS5 –ø—Ä–æ–∫—Å–∏

–§–æ—Ä–º–∞—Ç: `socks5://proxy.example.com:1080`

–ü—Ä–∏–º–µ—Ä:
```env
OPENAI_PROXY_URL=socks5://proxy.example.com:1080
```

### –ü—Ä–æ–∫—Å–∏ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π

–§–æ—Ä–º–∞—Ç: `http://username:password@proxy.example.com:8080`

–ü—Ä–∏–º–µ—Ä:
```env
OPENAI_PROXY_URL=http://user123:pass456@proxy.example.com:8080
```

## –ì–¥–µ –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–∫—Å–∏?

### –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç—Å—è –¥–ª—è production)

- Free Proxy List (https://free-proxy-list.net/)
- ProxyScrape (https://proxyscrape.com/)

‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ**: –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ —á–∞—Å—Ç–æ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º–∏.

### –ü–ª–∞—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **Bright Data (—Ä–∞–Ω–µ–µ Luminati)** - https://brightdata.com/
2. **Smartproxy** - https://smartproxy.com/
3. **Oxylabs** - https://oxylabs.io/
4. **ProxyMesh** - https://proxymesh.com/

### VPS —Å –ø—Ä–æ–∫—Å–∏

–ú–æ–∂–Ω–æ –∞—Ä–µ–Ω–¥–æ–≤–∞—Ç—å VPS –≤ —Å—Ç—Ä–∞–Ω–µ, –≥–¥–µ OpenAI –¥–æ—Å—Ç—É–ø–µ–Ω, –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–≤–æ–π –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä:

1. –ê—Ä–µ–Ω–¥—É–π—Ç–µ VPS (–Ω–∞–ø—Ä–∏–º–µ—Ä, DigitalOcean, AWS, Hetzner)
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω, –≥–¥–µ OpenAI –¥–æ—Å—Ç—É–ø–µ–Ω (–°–®–ê, –ï–≤—Ä–æ–ø–∞)
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, Squid, 3proxy)
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ IP –∞–¥—Ä–µ—Å VPS –∫–∞–∫ –ø—Ä–æ–∫—Å–∏

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### 1. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ .env —Ñ–∞–π–ª

–ù–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ –æ—Ç–∫—Ä–æ–π—Ç–µ `.env` —Ñ–∞–π–ª:

```bash
nano .env
```

–î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:
```env
OPENAI_PROXY_URL=http://–≤–∞—à-–ø—Ä–æ–∫—Å–∏:–ø–æ—Ä—Ç
```

### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
sudo systemctl restart astral-bot
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

```bash
sudo journalctl -u astral-bot -f
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ:
```
üåê –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏ –¥–ª—è OpenAI: http://–≤–∞—à-–ø—Ä–æ–∫—Å–∏...
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Ç–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç—É —á–µ—Ä–µ–∑ –±–æ—Ç–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ - –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ —Ä–µ–≥–∏–æ–Ω–∞
3. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å URL –ø—Ä–æ–∫—Å–∏
   - –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞
   - –ü–æ–¥–¥–µ—Ä–∂–∫—É HTTPS –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–æ–∫—Å–∏

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

‚ö†Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–∫—Å–∏ —Å –Ω–µ–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏. –ü—Ä–æ–∫—Å–∏ –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫.

‚ö†Ô∏è **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ü—Ä–æ–∫—Å–∏ –º–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ OpenAI API. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ–∫—Å–∏ –≤ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ –±–ª–∏–∑–∫–∏—Ö —Ä–µ–≥–∏–æ–Ω–∞—Ö.

‚ö†Ô∏è **–°—Ç–æ–∏–º–æ—Å—Ç—å**: –ü–ª–∞—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ —Å—Ç–æ—è—Ç –¥–µ–Ω–µ–≥, –Ω–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ª—É—á—à—É—é —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

–ï—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏ –∑–∞—Ç—Ä—É–¥–Ω–∏—Ç–µ–ª—å–Ω–∞, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ:

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ VPN –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ** - –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å VPN –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è production)
2. **–ü–µ—Ä–µ–Ω–æ—Å —Å–µ—Ä–≤–µ—Ä–∞** - —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –≤ —Ä–µ–≥–∏–æ–Ω–µ, –≥–¥–µ OpenAI –¥–æ—Å—Ç—É–ø–µ–Ω
3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö API** - —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞

